generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-arm64-openssl-1.1.x"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  email     String   @unique
  password  String
  name      String?
  role      Role     @default(USER)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model VehicleType {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  name        String   @unique
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Owner {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  name           String
  contractNumber String?  @unique
  nidNumber      String?  @unique
  districtName     String?
  presentAddress   String?
  permanentAddress String?
  picture          String?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}


model Driver {
  id                   String   @id @default(auto()) @map("_id") @db.ObjectId
  name                 String
  contractNumber       String?  @unique
  nidNumber            String?  @unique
  districtName         String?
  presentAddress       String?
  permanentAddress     String?
  drivingLicenseNumber String?  @unique
  experienceDuration   String?
  picture              String?
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt
}

model Vehicle {
  id                   String        @id @default(auto()) @map("_id") @db.ObjectId
  vehicleTypeId        String?       @db.ObjectId
  driverId             String?       @db.ObjectId
  ownerId              String?       @db.ObjectId

  engineNumber         String?       @unique
  chassisNumber        String?       @unique
  vehicleLicenseNumber String?       @unique
  vehicleCapacity      String?
  vehicleLocation      String?
  serviceArea          String?
  status               VehicleStatus @default(AVAILABLE)
  vehiclePic           String?

  createdAt            DateTime      @default(now())
  updatedAt            DateTime      @updatedAt
}

enum VehicleStatus {
  LOADING
  UNLOADING
  AVAILABLE
  BUSY
}

enum Role {
  ADMIN
  USER
}